// Auto-generated by oag â€” do not edit
export type StopReason = "end_turn" | "max_tokens" | "stop_sequence" | "tool_use";

export type Role = "user" | "assistant";

export type ModelId =
  | "claude-sonnet-4-20250514"
  | "claude-haiku-4-20250414"
  | "claude-opus-4-20250514";

export type ContentBlock = TextBlock | ImageBlock | ToolUseBlock | ToolResultBlock;

export type Source = ImageSource | UrlSource;

export type ToolChoice = ToolChoiceAuto | ToolChoiceAny | ToolChoiceTool;

export type StreamDelta = TextDelta | InputJsonDelta;

export type ToolResultContent = TextBlock | ImageBlock;

export interface TextBlock {
  type: "text";
  text: string;
}

export interface ImageBlock {
  type: "image";
  source: Source;
}

export interface ToolUseBlock {
  type: "tool_use";
  id: string;
  name: string;
  input: Record<string, unknown>;
}

export interface ToolResultBlock {
  type: "tool_result";
  tool_use_id: string;
  content?: ToolResultContent[];
  is_error?: boolean;
}

export interface ImageSource {
  type: "base64";
  media_type: "image/jpeg" | "image/png" | "image/gif" | "image/webp";
  data: Blob;
}

export interface UrlSource {
  type: "url";
  url: string;
}

export interface ToolChoiceAuto {
  type: "auto";
  disable_parallel_tool_use?: boolean;
}

export interface ToolChoiceAny {
  type: "any";
  disable_parallel_tool_use?: boolean;
}

export interface ToolChoiceTool {
  type: "tool";
  name: string;
  disable_parallel_tool_use?: boolean;
}

export interface TextDelta {
  type: "text_delta";
  text: string;
}

export interface InputJsonDelta {
  type: "input_json_delta";
  partial_json: string;
}

export interface MessageStartEvent {
  type: "message_start";
  message: MessageResponse;
}

export interface ContentBlockStartEvent {
  type: "content_block_start";
  index: number;
  content_block: ContentBlock;
}

export interface ContentBlockDeltaEvent {
  type: "content_block_delta";
  index: number;
  delta: StreamDelta;
}

export interface ContentBlockStopEvent {
  type: "content_block_stop";
  index: number;
}

export interface MessageDeltaEvent {
  type: "message_delta";
  delta: MessageDeltaEventDelta;
  usage: MessageDeltaEventUsage;
}

export interface MessageStopEvent {
  type: "message_stop";
}

export interface PingEvent {
  type: "ping";
}

export interface ErrorEvent {
  type: "error";
  error: ErrorEventError;
}

export interface Message {
  role: Role;
  content: ContentBlock[];
}

/** Free-form metadata as string key-value pairs. */
export type Metadata = {
  /** An external identifier for the user. */
  user_id?: string | null;
} & Record<string, string>;

export interface ToolDefinition {
  name: string;
  description?: string;
  input_schema: Record<string, unknown>;
}

export interface CreateMessageRequest {
  model: ModelId;
  messages: Message[];
  max_tokens: number;
  temperature?: number;
  stream?: boolean;
  stop_sequences?: string[];
  /** System prompt. */
  system?: string;
  metadata?: Metadata;
  tools?: ToolDefinition[];
  tool_choice?: ToolChoice;
}

export interface MessageResponse {
  id: string;
  type: "message";
  role: Role;
  content: ContentBlock[];
  model: ModelId;
  stop_reason: string | null;
  stop_sequence: string | null;
  usage: Usage;
  created_at?: string;
}

export interface Usage {
  input_tokens: number;
  output_tokens: number;
}

export interface CountTokensRequest {
  model: ModelId;
  messages: Message[];
  system?: string;
  tools?: ToolDefinition[];
}

export interface CountTokensResponse {
  input_tokens: number;
}

export interface ModelInfo {
  id: string;
  display_name: string;
  type: "model";
  created_at?: string;
}

export interface ModelListResponse {
  data: ModelInfo[];
  has_more: boolean;
  first_id?: string | null;
  last_id?: string | null;
}

export interface MessageDeltaEventDelta {
  stop_reason?: string | null;
  stop_sequence?: string | null;
}

export interface MessageDeltaEventUsage {
  output_tokens: number;
}

export interface ErrorEventError {
  type: string;
  message: string;
}

/** SSE event union type for streaming responses. */
export type CreateMessageStreamEvent =
  | MessageStartEvent
  | ContentBlockStartEvent
  | ContentBlockDeltaEvent
  | ContentBlockStopEvent
  | MessageDeltaEvent
  | MessageStopEvent
  | PingEvent
  | ErrorEvent;
